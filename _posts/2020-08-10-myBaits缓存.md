---
layout: post
title: myBaits缓存
---

> **一级缓存：**myBaits默认开启一级缓存，一级缓存的使用条件是，同一个sqlSession对象，它会在内存里开辟一块空间，属于sqlSession对象，使用同一个sqlSession对象所从硬盘里查出来的数据都会存储在内存的这块区域，下次如果想查询相同的数据，就会之际从内存中拿，而不需要去和磁盘IO，只要执行了写操作（增删改）就会刷新缓存，也就是清空缓存。
>
> **二级缓存：**myBaits默认没有开启二级缓存，需要手动开启二级缓存。二级缓存是同一个namespace可以使用相同的缓存区域，可以理解为同一个class对象，且二级缓存是存储在磁盘里，需要和磁盘IO，好处是不需要去数据库索引查询了之类的等等，且清空缓存操作和一级缓存一样，只需要写操作就会清空缓存。
>
> **PS：**数据库索引失效innodb的行锁会变成表锁，大大降低性能（使用or就会引起索引失效）
>
> **PS:在mybatis中#和$的主要区别是：#传入的参数在SQL中显示为字符串，#方式能够很大程度防止sql注入；$传入的参数在SqL中直接显示为传入的值，$方式无法防止Sql注入**